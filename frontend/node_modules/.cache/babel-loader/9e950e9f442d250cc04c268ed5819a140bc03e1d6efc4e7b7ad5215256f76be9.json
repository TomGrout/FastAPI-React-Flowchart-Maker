{"ast":null,"code":"import _regeneratorRuntime from\"/home/tom/Projects/FastAPI+React_Flowchart-Maker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _taggedTemplateLiteral from\"/home/tom/Projects/FastAPI+React_Flowchart-Maker/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"/home/tom/Projects/FastAPI+React_Flowchart-Maker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _templateObject;import React from'react';import{useStore}from'./store';export var SubmitButton=function SubmitButton(){var _useStore=useStore(),nodes=_useStore.nodes,edges=_useStore.edges;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:8000/pipelines/parse',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nodes:nodes,edges:edges})});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Server error: \".concat(response.status));case 6:_context.next=8;return response.json();case 8:result=_context.sent;alert(\"Pipeline Analysis:\\n\\n\"+\"Nodes: \".concat(result.num_nodes,\"\\n\")+\"Edges: \".concat(result.num_edges,\"\\n\")(_templateObject||(_templateObject=_taggedTemplateLiteral([\"Is DAG: \",\"\"])),result.is_dag?'Yes ':'No '));_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error('Error submitting pipeline:',_context.t0);alert('Failed to submit. Check console for details.');case 16:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["React","useStore","SubmitButton","_useStore","nodes","edges","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","result","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","ok","Error","concat","status","json","alert","num_nodes","num_edges","_templateObject","_taggedTemplateLiteral","is_dag","t0","console","error","stop","apply","arguments"],"sources":["/home/tom/Projects/FastAPI+React_Flowchart-Maker/frontend/src/submit.js"],"sourcesContent":["import React from 'react';\nimport { useStore } from './store';\n\nexport const SubmitButton = () => {\n  const { nodes, edges } = useStore();\n\n  const handleSubmit = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/pipelines/parse', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ nodes, edges }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Server error: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      alert(\n        `Pipeline Analysis:\\n\\n` +\n        `Nodes: ${result.num_nodes}\\n` +\n        `Edges: ${result.num_edges}\\n` \n        `Is DAG: ${result.is_dag ? 'Yes ' : 'No '}`\n      );\n    } catch (error) {\n      console.error('Error submitting pipeline:', error);\n      alert('Failed to submit. Check console for details.');\n    }\n  };\n\n};\n"],"mappings":"ieAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,SAAS,CAElC,MAAO,IAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CAChC,IAAAC,SAAA,CAAyBF,QAAQ,CAAC,CAAC,CAA3BG,KAAK,CAAAD,SAAA,CAALC,KAAK,CAAEC,KAAK,CAAAF,SAAA,CAALE,KAAK,CAEpB,GAAM,CAAAC,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEM,CAAAC,KAAK,CAAC,uCAAuC,CAAE,CACpEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEpB,KAAK,CAALA,KAAK,CAAEC,KAAK,CAALA,KAAM,CAAC,CACvC,CAAC,CAAC,QAJIO,QAAQ,CAAAI,QAAA,CAAAS,IAAA,IAMTb,QAAQ,CAACc,EAAE,EAAAV,QAAA,CAAAE,IAAA,eACR,IAAI,CAAAS,KAAK,kBAAAC,MAAA,CAAkBhB,QAAQ,CAACiB,MAAM,CAAE,CAAC,QAAAb,QAAA,CAAAE,IAAA,SAGhC,CAAAN,QAAQ,CAACkB,IAAI,CAAC,CAAC,QAA9BjB,MAAM,CAAAG,QAAA,CAAAS,IAAA,CAEZM,KAAK,CACH,mCAAAH,MAAA,CACUf,MAAM,CAACmB,SAAS,MAAI,WAAAJ,MAAA,CACpBf,MAAM,CAACoB,SAAS,OAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,mBACftB,MAAM,CAACuB,MAAM,CAAG,MAAM,CAAG,KAAK,CAC3C,CAAC,CAACpB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAqB,EAAA,CAAArB,QAAA,aAEFsB,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAAvB,QAAA,CAAAqB,EAAO,CAAC,CAClDN,KAAK,CAAC,8CAA8C,CAAC,CAAC,yBAAAf,QAAA,CAAAwB,IAAA,MAAA7B,OAAA,iBAEzD,kBAxBK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAkC,KAAA,MAAAC,SAAA,OAwBjB,CAEH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}